@model IEnumerable<test.Models.Excercise>
@{
    ViewBag.Title = "Index";
}
@*<script  type="text/javascript" src="http://ajax.microsoft.com/ajax/jquery/jquery-1.6.2.min.js">
</script>*@
<script  type="text/javascript" src="~/Scripts/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="~/Scripts/jquery-latest.js"></script>
<script type="text/javascript"  src="~/Scripts/jquery.tablesorter.min.js"></script>


<div class="modal fade" id="create">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Create</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body"  style="width: 50%;height: 50%">
                <form>
                   
                        
                            <label>Excercise Name:</label>
                      
                       
                            <input type="text" id="name" class="form-control" style="display: inline" /><br />
                       
                   
                   
                        <label>Excercise date:</label>
                   
                    
                        <input type="text" id="date" class="form-control" style="display: inline-block" /><br />
                    
                  
                        <label>Duration:</label>
                   
                    
                    <input type="text" id="duration" class="form-control" style="display: inline" /><br />
                        

                        @*<button type="submit" class="btn btn-success" id="add">Add</button>
                <button type="button" class="btn btn-danger" id="cancel">Cancel</button>*@
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" id="save">Save</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<br/>

<div>
    <button id="createexc" class="btn btn-primary">Create</button><br /><br />
</div>
<br/>
<br/>
<input type="text" id="search" placeholder="Type to search" class="form-control"><br/><br/>

<table id="table" width="1000" border="1" cellpadding="15">
    
    <tr>
        <th>Name</th>
        <th>Date</th>
        <th>Duration</th>
    </tr>
    
    @foreach (var excercise in Model)
    {
        <tr>
            <td>@excercise.ExcerciseName</td>
            <td>@excercise.ExcerciseDate</td>
            <td>@excercise.DurationInMin</td>
        </tr>
    }
    
</table>
<script>
   $(document).ready(function () {
    
    $('#createexc').click(function () {
        
        $("#create").modal('show');

    });
       $("#save").click(function() {
        
           var name = $('#name').val();
           var date = $('#date').val();
           var duration = $('#duration').val();
           var exc=
           {
               Id:0,
               ExcerciseName : name,
               ExcerciseDate :date,
               DurationInMin :duration
           };
           console.log(exc);
           $.ajax({ 
               type: "POST",
               url:"/Home/Add",
               data: exc,
               success: function (msg) {
                   alert("Message is sent");
               }
               
             });
       });


       var $rows = $('#table tr');
       $('#search').keyup(function () {
           var val = $.trim($(this).val()).replace(/ +/g, ' ').toLowerCase();

           $rows.show().filter(function () {
               var text = $(this).text().replace(/\s+/g, ' ').toLowerCase();
               return !~text.indexOf(val);
           }).hide();
       });

       //$("table").tablesorter({ widthFixed: true, widgets: ['zebra'] }).tablesorterPager({ container: $("#pager") });

       
   });

   jQuery(document).ready(function ($) {
       $("#table").tablesorter();
   });
</script>
<style>
    table {
        font-size: 30px;
        padding: 15px;
        
        border-spacing: 10px;

    }
    input 
         {margin-bottom: 5px; padding: 2px 3px; width: 209px;}
</style>